(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[732],{9370:(e,t,r)=>{Promise.resolve().then(r.bind(r,2663))},2663:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(5155),c=r(8629),a=r(5534),i=r(8581),n=r(2449),o=r(5255),d=r(8412),l=r(2800),u=r(6963),h=r(7929),m=r(2115);function x(){let[e,t]=(0,m.useState)([]);(0,m.useEffect)(()=>{let e=localStorage.getItem("localOrders");e&&t(JSON.parse(e))},[]);let r=e.filter(e=>{let t=new Date(e.createdAt),r=new Date,s=new Date;return s.setDate(r.getDate()-7),t>=s}),x=r.reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.price*t.quantity,0),0),{data:j}=(0,c.I)({queryKey:["users",10,0],queryFn:()=>(0,a.hU)(10,0)}),v=[0,1,2,3,4,5,6].map(e=>{let t=new Date;t.setDate(new Date().getDate()-e);let s=t.toISOString().slice(0,10),c=r.filter(e=>e.createdAt.slice(0,10)===s).reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.price*t.quantity,0),0);return{date:s,revenue:c}}).reverse(),f=v.some(e=>e.revenue>0);return(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"M\xe9triques des 7 derniers jours"}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Utilisateurs"}),(0,s.jsx)("div",{className:"text-2xl font-semibold",children:null==j?void 0:j.total})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"commandes 7j (local)"}),(0,s.jsx)("div",{className:"text-2xl font-semibold",children:null==r?void 0:r.length})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Revenue 7j (local)"}),(0,s.jsxs)("div",{className:"text-2xl font-semibold",children:["$",x.toFixed(2)]})]}),(0,s.jsx)("div",{className:"card md:col-span-3",children:f?(0,s.jsx)("div",{className:"text-sm text-gray-600 h-80",children:(0,s.jsx)(i.u,{width:"100%",height:"100%",children:(0,s.jsxs)(n.b,{width:600,height:300,data:v,children:[(0,s.jsx)(o.d,{}),(0,s.jsx)(d.N,{dataKey:"revenue"}),(0,s.jsx)(l.W,{dataKey:"date"}),(0,s.jsx)(u.h,{}),(0,s.jsx)(h.s,{})]})})}):(0,s.jsx)("div",{className:"h-24 skeleton mt-2 flex justify-center items-center text-gray-600 ",children:"Aucune donn\xe9e trouv\xe9"})})]})}},5534:(e,t,r)=>{"use strict";r.d(t,{c0:()=>n,cU:()=>o,hU:()=>d,j0:()=>c,jE:()=>i,zh:()=>a});let s="https://dummyjson.com";async function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=await fetch("".concat(s,"/products?limit=").concat(e,"&skip=").concat(t));if(!r.ok)throw Error("Erreur de r\xe9cup\xe9ration de produits");return r.json()}async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=await fetch("".concat(s,"/products/search?q=").concat(e,"&limit=").concat(t,"&skip=").concat(r));if(!c.ok)throw Error("Erreur hors de la recherche des produits");return c.json()}async function i(){let e=await fetch("".concat(s,"/products/categories"));if(!e.ok)throw Error("Erreur de r\xe9cup\xe9ration des categories");return e.json()}async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=await fetch("".concat(s,"/products/category/").concat(e,"?limit=").concat(t,"&skip=").concat(r));if(!c.ok)throw Error("Erreur hors de la r\xe9cup\xe9ration des produits par cat\xe9gorie");return c.json()}async function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=await fetch("".concat(s,"/carts?limit=").concat(e,"&skip=").concat(t));if(!r.ok)throw Error("Erreur de r\xe9cup\xe9ration des cartes");return r.json()}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=await fetch("".concat(s,"/users?limit=").concat(e,"&skip=").concat(t));if(!r.ok)throw Error("Erreur de r\xe9cup\xe9ration des utilisateurs");return r.json()}}},e=>{var t=t=>e(e.s=t);e.O(0,[527,629,17,441,517,358],()=>t(9370)),_N_E=e.O()}]);